// Bricks-UI - Tue Oct 27 2015 15:25:22 GMT+0100 (CET)
var configuration={selectors:{classes:"[bx-class]",responsive_classes:"[bx-rclass]",template:"[bx-template]",width:"[bx-width]",height:"[bx-height]",level:"[bx-level]",form:"[bx-form]",select:"[bx-select]",row:"[bx-row]",col:"[bx-col]",expand:"[bx-expand]",align:"[bx-align]",alignItems:"[bx-align-items]",grid:"[bx-grid]",gridSpacing:"[bx-grid-spacing]",gridSpan:"[bx-grid-span]",gridWrapper:"[bx-grid-wrapper]",href:"[bx-href]",click:"[bx-click]",dblclick:"[bx-dblclick]",cmclick:"[bx-cmclick]",hover:"[bx-hover]",leave:"[bx-leave]",focus:"[bx-focus]",blur:"[bx-blur]"},screenWidth:{1:[0,320],2:[321,640],3:[641,960],4:[961,1280],5:[1281,1920],6:[1921,2560],7:[2561,3200],8:[3201,3840],9:[3840]}};!function(a){a.isInt=function(a){return(a+"").match(/^\d+$/)},a.getScreenWidth=function(){var b=!1,c=!1;return"matchMedia"in window?a.each(configuration.screenWidth,function(d,e){var f=e[0],g=e[1];return 0===f&&a.isInt(g)?b="(max-width:"+g+"px)":void 0===g&&a.isInt(f)?b="(min-width:"+f+"px)":a.isInt(f)&&a.isInt(g)&&(b="(min-width:"+f+"px) and (max-width:"+g+"px)"),!1!==b&&!0===window.matchMedia(b).matches?(c=d,!1):void 0}):console.log("ERROR: matchMedia not available"),c},a.getItemWidth=function(b){var c=!1,d=!1;return a.each(configuration.screenWidth,function(e,f){var g=f[0],h=f[1];return b.width()>=g&&b.width()<=h?(d=e,!1):(0===g&&a.isInt(h)?c=b.width()<=h:void 0===h&&a.isInt(g)?c=b.width()>=g:a.isInt(g)&&a.isInt(h)&&(c=b.width()>=g&&b.width()<=h),!0===c?(d=e,!1):void 0)}),d},a.getSelector=function(b,c){return"self"==c?b:"parent"==c?b.parent():"parent"==c?b.children():"next"==c?b.next():"nextAll"==c?b.nextAll():"prev"==c?b.prev():"prevAll"==c?b.prevAll():"siblings"==c?b.siblings():a(c)},a.getSelectors=function(b,c){var d=[];if(-1!==c.indexOf(",")){var e=c.split(",");a.each(e,function(c,e){e=a.trim(e),d.push(a.getSelector(b,e))})}else d.push(a.getSelector(b,c));return d}}(jQuery),function(a){a.fn.addAction=function(b,c){return this.each(function(d){var e=a(this),f=new RegExp("([a-zA-Z0-9]*)[(]([^)]*)[)]"),g=f.exec(c);if(g&&""!==g[1]){var h=g[1],i=""!==g[2]?g[2]:null;e.on(b,function(b){if(b.stopPropagation(),null!==i){var c=a.getSelectors(e,i);null!==c[0]&&a.each(c,function(a,b){"show"==h?b.removeClass("hide none").show():"hide"==h?b.removeClass("show").hide():"toggle"==h&&(b.hasClass("none")?b.removeClass("none"):b.toggle())})}else"closeWindow"==h&&window.close()})}})},handleActions=function(b,c){a(c).length&&a(c).each(function(){var d=a(this),e=d.attr(c.replace(/[\[\]]/g,""));if(-1!==e.indexOf(";")){var f=e.split(";");a.each(f,function(a,c){d.addAction(b,c)})}else d.addAction(b,e)})}}(jQuery),function(a){a.fn.applyTemplates=function(){return this.each(function(b){var c=a(this),d=c.attr(configuration.selectors.template.replace(/[\[\]]/g,""));d=a.trim(d);var e=window.bricksTemplates[d].classes,f=window.bricksTemplates[d].normal,g=window.bricksTemplates[d].active,h=window.bricksTemplates[d].parent_active;""!==e&&c.addClass(e),""!==f&&c.addClass(f),""!==g&&(c.on("click",function(a){c.removeClass(f+" "+h),c.addClass(g)}),c.on("mouseover",function(a){c.removeClass(f+" "+h),c.addClass(g)}),c.on("mouseleave",function(a){c.removeClass(g),c.addClass(f)})),""!==h&&(c.parents(configuration.selectors.classes+","+configuration.selectors.template).on("mouseover",function(b){a(b.target).is(c)||(c.removeClass(f+" "+g),c.addClass(h))}),c.parents(configuration.selectors.classes+","+configuration.selectors.template).on("mouseleave",function(b){a(b.target).is(c)||(c.removeClass(g+" "+h),c.addClass(f))}))})},a.fn.applyClasses=function(){return this.each(function(b){var c=a(this),d=c.attr(configuration.selectors.classes.replace(/[\[\]]/g,""));if(void 0!==d&&-1!==d.indexOf(",")){var e=d.split(","),f=a.trim(e[0]);c.addClass(f);var g="";void 0!==e[1]&&""!==a.trim(e[1])&&(g=a.trim(e[1]));var h="";void 0!==e[2]&&""!==a.trim(e[2])&&(h=a.trim(e[2])),""!==g&&(c.on("click",function(a){c.removeClass(f+" "+h),c.addClass(g)}),c.on("mouseover",function(a){c.removeClass(f+" "+h),c.addClass(g)}),c.on("mouseleave",function(a){c.removeClass(g),c.addClass(f)})),""!==h&&(c.parents(configuration.selectors.classes).on("mouseover",function(b){a(b.target).is(c)||(c.removeClass(f+" "+g),c.addClass(h))}),c.parents(configuration.selectors.classes).on("mouseleave",function(b){a(b.target).is(c)||(c.removeClass(g+" "+h),c.addClass(f))}))}else c.addClass(a.trim(d))})},a.fn.applyResponsivesClasses=function(){var b=a.getScreenWidth();return this.each(function(c){var d=a(this),e=d.attr(configuration.selectors.responsive_classes.replace(/[\[\]]/g,""));if(void 0!==e&&-1!==e.indexOf(",")){var f=e.split(","),g=f.pop();void 0!==f[b-1]&&(g=f[b-1]),d.removeClass(e.replace(/,/g," ")),d.addClass(g)}})}}(jQuery),function(a){a.fn.floatingLabel=function(){return this.each(function(b){var c=a(this);""!==c.val()&&a(this).prev("label.floating").addClass("active"),c.focus(function(b){a(this).prev("label.floating").addClass("active")}).blur(function(b){""===c.val()&&a(this).prev("label.floating").removeClass("active")})})},a.fn.textareaAutoresize=function(){return this.each(function(b){var c=a(this),d=null!==c.data("maxrows")?c.data("maxrows"):3,e="14px";c.css("line-height")?e=parseInt(c.css("line-height")):a("body").css("line-height")&&(e=parseInt(a("body").css("line-height")));var f=parseInt(c.css("paddingBottom"))+parseInt(c.css("paddingTop")),g=d*e+f;c.keyup(function(){this.scrollHeight>g?c.css("overflow","auto"):c.css("overflow","hidden").height("auto").height(this.scrollHeight-f)})})}}(jQuery),function(a){a.fn.resizeGrid=function(){var b=a.getScreenWidth();return this.each(function(c){var d=a(this),e=d.get(0).getBoundingClientRect().width,f="",g=b,h=(d.children("div").length,d.attr(configuration.selectors.grid.replace(/[\[\]]/g,""))),i=d.attr(configuration.selectors.gridSpacing.replace(/[\[\]]/g,""));if(h){if(""!==d.attr(configuration.selectors.gridWrapper)&&(f=d.attr(configuration.selectors.gridWrapper.replace(/[\[\]]/g,"")),"self"==f&&(g=a.getItemWidth(d),console.log(g))),void 0!==h&&-1!==h.indexOf(",")){var j=h.split(",");j[g-1]?deviceGrid=parseInt(j[g-1]):deviceGrid=parseInt(j.pop())}else deviceGrid=parseInt(h);var k=0,l=0;if(void 0!==i){if(-1!==i.indexOf(",")){var m=i.split(",");k=m[g-1]?parseFloat(m[g-1]):parseFloat(m.pop())}else k=parseFloat(i);l=e*k/100,d.children().css("margin","0 "+k+"% "+l+"px 0")}var n=100;0!==k&&(n=100-(deviceGrid-1)*k);var o=n/deviceGrid,p=0,q=[{span:0,items:[]}];if(d.children().each(function(b){var c=a(this),d=1,e=configuration.selectors.gridSpan.replace(/[\[\]]/g,"");if(c.attr(e)){var f=a(this).attr(e);if(void 0!==f&&-1!==f.indexOf(",")){var h=f.split(",");d=h[g-1]?h[g-1]:h.pop()}else d=f;if(d="*"==d||"full"==d||parseInt(d)>deviceGrid?parseFloat(deviceGrid):"none"==d?0:parseFloat(d),0===d)c.hide();else{c.show();var i=0;d==deviceGrid?c.css("width","100%").css("margin-right","0"):0!==k?(i=o*d+k*(d-1),c.css("width",i+"%")):(i=o*d,c.css("width",i+"%"))}}else c.css("width",o+"%");0!==d&&(q[p].span+=d,q[p].items.push(c),q[p].span>=deviceGrid&&(p++,q[p]={span:0,items:[]}))}),0===q[q.length-1].items.length&&q.pop(),q.length){a.each(q,function(b,c){a.each(c.items,function(a,b){b.removeClass("grid-first-row grid-last-row grid-row-first-child grid-row-last-child")}),0===b&&a.each(c.items,function(a,b){b.addClass("grid-first-row")}),b===q.length-1&&a.each(c.items,function(a,b){b.addClass("grid-last-row")}),a(c.items[0]).addClass("grid-row-first-child"),a(c.items[c.items.length-1]).addClass("grid-row-last-child")});var r=q[q.length-1].items;a.each(r,function(b,c){a(c).css("margin-bottom","0")})}}d.on("refresh",function(){d.resizeGrid()})})}}(jQuery),function(a){a.fn.setLinks=function(){return this.on("click",function(b){var c=configuration.selectors.href.replace(/[\[\]]/g,"");window.location.href=a(this).attr(c)})},a.fn.truncateText=function(){return this.each(function(b){var c=a(this);""===c.attr("title")&&c.attr("title",c.text())})},a.fn.changeZIndex=function(){var b=configuration.selectors.level.replace(/[\[\]]/g,"");return this.each(function(c){var d=a(this);""!==d.attr(b)&&d.css("z-index",d.attr(b))})},a.fn.iframeAutoresize=function(){return this.each(function(){var b=a(this),c=0,d=0;""!==this.height&&""!==this.width?(c=parseInt(b.parent().width()),d=parseInt(c*this.height/this.width),b.width("100%"),b.height(d)):(c=parseInt(b.parent().width()),d=parseInt(.5625*c),b.width("100%"),b.height(d))})}}(jQuery),function(a){a.fn.stickyBox=function(b){this.each(function(){var c=a(this).parent(),d=c.position(),e=c.width();a(this).css({width:e}),b>=d.top-90?a(this).css({position:"fixed",top:"90px"}):a(this).css({position:"relative",top:"0"})})}}(jQuery),function(a){a.fn.setSize=function(b,c){var d=a.getScreenWidth();return this.each(function(e){var f=a(this),g="",h=f.attr(b.replace(/[\[\]]/g,""));if(""!==h){if(-1!==h.indexOf(",")){var i=h.split(",");g=void 0!==i[d-1]?i[d-1]:i.pop()}else g=h;if(g=a.trim(g),""===g||"none"==g||"0"==g||"0%"==g||"0px"==g||"0em"==g||"0rem"==g)f.css(c,0).hide();else{if(("*"==g||"full"==g)&&(g="100%"),-1!==g.indexOf("%")&&(f.css("box-sizing","border-box"),"height"==c)){var j=f.parent();j.css("box-sizing","border-box"),g=j.height()*g.replace(/[%]/g,"")/100}f.css(c,g).show()}}})}}(jQuery),function(a){a(document).ready(function(){var b=a.getScreenWidth(),c=configuration.selectors.width,d=configuration.selectors.height;a(c).setSize(c,"width"),a(d).setSize(d,"height"),a(window).resize(function(){var e=a.getScreenWidth();b!=e&&(b=e,a(c).setSize(c,"width"),a(d).setSize(d,"height"))}),void 0!==window.bricksTemplates&&configuration.selectors.template.length&&a(configuration.selectors.template).applyTemplates(),configuration.selectors.classes.length&&a(configuration.selectors.classes).applyClasses(),configuration.selectors.responsive_classes.length&&(a(configuration.selectors.responsive_classes).applyResponsivesClasses(),a(window).resize(function(){a(configuration.selectors.responsive_classes).applyResponsivesClasses()})),a('[bx-fix="sticky"]').length&&a(window).scroll(function(){var b=a(window).scrollTop();a('[bx-fix="sticky"]').stickyBox(b)}),a(configuration.selectors.href).length&&a(configuration.selectors.href).setLinks(),a(configuration.selectors.level).length&&a(configuration.selectors.level).changeZIndex(),a(".truncate").length&&a(".truncate").truncateText(),a("iframe.autoresize").length&&setTimeout(function(){a("iframe.autoresize").iframeAutoresize()},50),a(window).resize(function(){a("iframe.autoresize").length&&setTimeout(function(){a("iframe.autoresize").iframeAutoresize()},200)}),configuration.selectors.grid.length&&a(configuration.selectors.grid).resizeGrid(),a(window).resize(function(){var c=a.getScreenWidth();b!=c&&(b=c,a(configuration.selectors.grid).resizeGrid())}),a("label.floating").length&&a("label.floating + input, label.floating + textarea").floatingLabel(),a("textarea.autoresize").length&&a("textarea.autoresize").textareaAutoresize(),handleActions("click",configuration.selectors.click),handleActions("dblclick",configuration.selectors.dblclick),handleActions("contextmenu",configuration.selectors.cmclick),handleActions("mouseenter",configuration.selectors.hover),handleActions("mouseleave",configuration.selectors.leave),handleActions("focus",configuration.selectors.focus),handleActions("blur",configuration.selectors.blur),a("body").addClass("ready")})}(jQuery);